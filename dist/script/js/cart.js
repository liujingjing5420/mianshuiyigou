"use strict";!function(o){if(o.cookie("goodsid")&&o.cookie("goodsnums")){var i=o.cookie("goodsid").split(","),a=o.cookie("goodsnums").split(",");o.ajax({url:"http://10.31.158.39:8088/javascript/mianshuiyigou/php/piclist.php",dataType:"json"}).done(function(t){o.each(i,function(c,n){o.each(t,function(t,i){if(n===i.picid){var e=o(".needed").first().clone(!0);e.css("display","block"),o(".cuxiao1").append(e),e.find(".td343 dl dd img").attr("src",i.url+"?picid="+i.picid),e.find(".td343 dl dd alt").attr("alt",i.des),e.find(".color1").html(i.title),e.find(".color2").html(i.des),e.find(".color11 strong").html(i.price),e.find(".jiajia input").attr("value",a[c])}})}),l()}),d=i,s=a,o(".cuxiao1").on("click",".add",function(){var t=o(this).prev().val();t++,o(this).prev().val(t);var i=o(this).parents("tr").find(".td343 dl dd img").attr("src").split("?")[1].slice(6),e=o.inArray(i,d);s[e]!==o(this).prev().val()&&(s[e]=o(this).prev().val(),o.cookie("goodsnums",s.toString())),l()}),o(".cuxiao1").on("click",".reduce",function(){var t=o(this).next().val();--t<=1&&(t=1),o(this).next().val(t);var i=o(this).parents("tr").find(".td343 dl dd img").attr("src").split("?")[1].slice(6),e=o.inArray(i,d);s[e]!==o(this).next().val()&&(s[e]=o(this).next().val(),o.cookie("goodsnums",s.toString())),l()}),n=i,r=a,o(".cuxiao1").on("click",".sj",function(){var t=o(this).parents("table"),i=t.find(".td343 dl dd img").attr("src").split("?")[1].slice(6),e=o.inArray(i,n);n.splice(e,1),r.splice(e,1),o.cookie("goodsid",n.toString()),o.cookie("goodsnums",r.toString()),t.remove(),l()}),(c=o(".checkall")).on("click",function(){var t=o(this).parents("#bottomdiv-wrap").prev().children(".cuxiao1").children("table").find(".checkone");c.attr("checked")?(t.each(function(t,i){o(this).removeAttr("checked")}),c.removeAttr("checked")):(t.not(t.first()).each(function(t,i){o(this).attr("checked","true"),window.location.reload()}),c.attr("checked","true")),l()}),o(".cuxiao1").on("click",".checkone",function(){o(this).attr("checked")?(o(this).removeAttr("checked"),c.removeAttr("checked")):o(this).attr("checked","true");var t=o(this).parents(".cuxiao1").find("table").find(".checkone"),e=!0;t.not(t.first()).each(function(t,i){o(this).attr("checked")||(e=!1)}),e&&(c.attr("checked","true"),window.location.reload()),l()})}else{'<div class="empty">您的购物车什么都没有，快去<a href="index111.html">购物</a>吧~</div>',o(".cuxiao1").html('<div class="empty">您的购物车什么都没有，快去<a href="index111.html">购物</a>吧~</div>'),o(".block-deliver").css("display","none"),o(".tiaomu").css("display","none"),o("#bottomdiv-wrap").css("display","none")}var c,n,r,d,s;function l(){var t=o(".cuxiao1 table").find(".color11");t.not(t.first()).each(function(t,i){var e=o(this).find("strong").html(),c=o(this).parents(".td159").next().find(".val");c.parents(".td138").next().find(".lajix").html("总价："+e*c.val())});var i=o(".cuxiao1 table").find(".lajix"),e=o(".p4 span"),c=0;i.not(i.first()).each(function(t,i){o(this).parents("table").find(".checkone").attr("checked")&&(c+=Number(o(this).html().slice(3)))}),e.html("￥"+c)}}(jQuery);